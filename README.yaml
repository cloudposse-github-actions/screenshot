---
#
# This is the canonical configuration for the `README.md`
# Run `make readme` to rebuild the `README.md`
#

# Name of this project
name: screenshot

# Tags of this project
tags:
  - github-action
  - composite
  - screenshot

# Logo for this project
#logo: docs/logo.png

# License of this project
license: "APACHE2"

# Screenshots
screenshots:
  - name: "Demo"
    description: "<br/>Example of running a screenshot generated by this action from the [`test/html`](test/html) HTML."
    url: "docs/example.png"

# Canonical GitHub repo
github_repo: cloudposse-github-actions/screenshot

# Badges to display
badges:
  - name: "Latest Release"
    image: "https://img.shields.io/github/release/cloudposse-github-actions/screenshot.svg"
    url: "https://github.com/cloudposse-github-actions/screenshot/releases/latest"
  - name: "Slack Community"
    image: "https://slack.cloudposse.com/badge.svg"
    url: "https://slack.cloudposse.com"

related: []

# Short description of this project
description: This GitHub Action will use Puppeteer to generate screenshots from any URL or even a `file://`. It's great for creating dynamic banners for GitHub projects.

introduction: |-
  This action generates a screenshot of any website (including file://) using Puppeteer.

references:
  - name: "Cloud Posse GitHub Actions"
    description: "A collection of all Cloud Posse managed GitHub Actions"
    url: "https://docs.cloudposse.com/github-actions/"

# How to use this project
usage: |
  For a complete working example that generated the demo image, see the [`.github/workflows/test.yaml`](.github/workflows/test.yaml) workflow.

  ```yaml
  name: Generate Screenshot

  on:
    pull_request:
      types: [opened, synchronize, reopened]

  jobs:
    screenshot:
      runs-on: ubuntu-latest
      concurrency:
      group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
      cancel-in-progress: true

      steps:
      - uses: actions/checkout@v2
      - name: Run this composite action
        id: screenshot
        uses: cloudposse-github-actions/screenshot@v0
        with:
          url: "file://${{github.workspace}}/test/html/index.html"
          output: "docs/example.png"
          
          # Overwrite any CSS
          css: |
            body {
              background: rgb(2,0,36);
              background: linear-gradient(139deg, rgba(2,0,36,1) 0%, rgba(9,9,121,1) 56%, rgba(147,0,255,1) 100%);
            }

          # Replace any text using JQuery-style CSS path selectors" 
          customizations: |
            "#name": "${{ github.event.repository.name }}"        

          # Set the width & height of the viewport
          viewportWidth: 800
          viewportHeight: 600
   ```


include:
- docs/github-action.md

# Contributors to this project
contributors: []
